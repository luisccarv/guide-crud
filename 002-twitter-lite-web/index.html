<form>
    <input name="iptCriaPost" placeholder="Digite o seu post">
    <button type="submit">Postar</button>

    <ul class="listaPosts">

    </ul>
</form>

<script>
    console.log('Hey, guys! - Part 2');
    console.log('#Building CRUD (Create, Read, Update, Delete)');

    // Base de Dados
    const twitterLite = {
        users: [
            {
                username: 'clarkkent',
            }
        ],
        posts: [
            {
                id: 1,
                owner: 'clarkkent',
                content: 'My first tweet'
            }
        ],

        addPost(data) {
            // Cria Post na Memória (Array/Objeto)
            twitterLite.posts.push({
                id: twitterLite.posts.length + 1,
                owner: data.owner,
                content: data.content
            });

            // Cria Post no HTML
            const $listaPosts = document.querySelector('.listaPosts')
            $listaPosts.insertAdjacentHTML('afterbegin', `<li>${data.content}</li>`)
        }
    };
    
    // [ Código de Frontend: Web ]
    const $meuForm = document.querySelector('form')
    //console.log($meuForm)
    
    // CRUD [ Create ]
    $meuForm.addEventListener('submit', function criaPostController(infoDoEvento) {
        infoDoEvento.preventDefault()
        console.log("Estamos criando um post novo")
        
        const $meuInput = document.querySelector('input')
        //const $meuInput = document.querySelector('input[name="iptCriaPost"]')
        //const $meuInput = document.querySelector('input[name="iptCriaPost"]').value
        
        twitterLite.addPost({ owner: 'clarkkent', content: $meuInput.value });
        console.log(twitterLite.posts)

        $meuInput.value = ''
    })

    // CRUD [ Read ]
    twitterLite.posts.forEach(({owner, content}) => {
        twitterLite.addPost({ owner: 'clarkkent', content: content })
    })

    // Linguagem Pura
    // - Criar variáveis
    // - Sincronizar o conteúdo das variáveis com o HTML
    // - Atualizar variáveis
</script>